apiVersion: lifecycle.keptn.sh/v1beta1
kind: KeptnWorkload
metadata:
  name: waiter-waiter
spec:
  metadata:
    commit-id: "1234"
    stage: dev
---

apiVersion: lifecycle.keptn.sh/v1beta1
kind: KeptnWorkloadVersion
metadata:
  name: waiter-waiter-0.4
spec:
  metadata:
    commit-id: "1234"
    stage: dev
status:
  currentPhase: Completed
  deploymentStatus: Succeeded
  postDeploymentEvaluationStatus: Succeeded
  postDeploymentStatus: Succeeded
  postDeploymentTaskStatus:
    - status: Succeeded
      definitionName: pre-deployment-hello
  preDeploymentEvaluationStatus: Succeeded
  preDeploymentStatus: Succeeded
  preDeploymentTaskStatus:
    - status: Succeeded
      definitionName: pre-deployment-hello
---
apiVersion: lifecycle.keptn.sh/v1beta1
kind: KeptnTask
spec:
  checkType: pre
  context:
    appName: waiter
    appVersion: ""
    metadata:
      commit-id: "1234"
      stage: dev
    objectType: Workload
    taskType: pre
    workloadName: waiter-waiter
    workloadVersion: "0.4"
  parameters: {}
  retries: 10
  secureParameters: {}
  taskDefinition: pre-deployment-hello
  timeout: 5m0s
status:
  status: Succeeded
